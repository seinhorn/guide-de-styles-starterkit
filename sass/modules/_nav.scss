@charset "iso-8859-1";

// ==   Module de navigation
// ========================================================================== //
@import "respond";
@import "compass/css3/images";

@mixin init-nav(){
	nav {
		overflow: hidden;
		@include clearfix;
		a {
			display: block;
			padding: 0 10px 0 20px;
			color: #fdfdfd;
			text-shadow: 0px 1px 0px rgba(0,0,0, 0.35);
			text-decoration: none;
			line-height: 2em;
			@include box-shadow(inset 0px 1px 0px 0px rgba(255, 255, 255, 0.1), 0px 1px 0px 0px rgba(0, 0, 0, 0.1));
			&:hover, &:focus {
				text-decoration: none;
				@extend .primary-dark-plus-bg;
			}
		}
		ul {
			margin: 0;padding: 0;
			li {
				list-style: none;
				&> a {
					position: relative;
					@extend .primary-dark-bg;	
				}
				ul li a {
					@extend .primary-bg;
					@include box-shadow(inset 0px 1px 0px 0px rgba(255, 255, 255, 0.1), 0px 1px 0px 0px rgba(0, 0, 0, 0.1));
				}
			}
		}		 
	}
	
	.small-screen nav::before {
		@extend .primary-dark-plus-bg;
	}
	@include respondTo(smallscreen) {
		nav {
			&::before {
				content: "Menu \25BC";
				display: block;
				padding: 0.8em;
				color: #fff;
				text-shadow: 0px 1px 0px rgba(0,0,0, 0.35);
				text-align: right;
			}
			&:not(:focus) > ul, &:not(:hover) > ul { max-height: 0; }
			ul {
				//max-height: 25em;
				max-height: auto;
				@include transition(max-height, 0.4s);
				@include transform(translateZ(0), true);
				li {
					&> ul {
						max-height: 0;
						overflow: hidden;
						@include transition(all, 1s, ease-in-out);
					}
					&:target > ul, &:focus > ul, &:hover > ul { max-height: auto; }	
				}
				
			}
		}
	}
	
	@include respondTo(moresmallscreen) {
		nav {
			position: relative;
			width: 90%;
			margin: 1em auto;
	 		outline: 1px solid red;
	 		ul {
	 			li {
					position: relative;
	 				float: left;
	 			}
	 			ul {
	 				display: none;
	 			}
	 		}
	 	}
	}
}